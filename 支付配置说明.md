# 支付配置说明

## 如何配置价格和收款账户

### 在 Vercel 中配置环境变量

1. **登录 Vercel Dashboard**
   - 访问：https://vercel.com/dashboard
   - 进入你的项目 `geshixiugai-app`

2. **进入环境变量设置**
   - 点击 **Settings** → **Environment Variables**
   - 点击 **Add New** 添加环境变量

3. **配置价格**

   添加以下环境变量：
   ```
   变量名: PAYMENT_PRICE
   值: 9.9
   ```
   - 价格单位：元（人民币）
   - 示例：`9.9` 表示 9.9 元
   - 如果不配置，默认价格为 9.9 元

4. **配置收款账户信息**

   **支付宝账号：**
   ```
   变量名: ALIPAY_ACCOUNT
   值: 你的支付宝账号（手机号或邮箱）
   ```

   **微信账号：**
   ```
   变量名: WECHAT_ACCOUNT
   值: 你的微信账号（微信号或手机号）
   ```

   **银行账号：**
   ```
   变量名: BANK_ACCOUNT
   值: 你的银行账号
   
   变量名: BANK_NAME
   值: 银行名称（如：中国工商银行）
   
   变量名: ACCOUNT_NAME
   值: 账户名称（持卡人姓名）
   ```

5. **选择环境**
   - 每个变量都要选择应用环境：
     - ✅ Production（生产环境）
     - ✅ Preview（预览环境）
     - ✅ Development（开发环境）
   - 建议全选，确保所有环境都能使用

6. **保存并重新部署**
   - 点击 **Save**
   - Vercel 会自动重新部署
   - 等待部署完成（1-2 分钟）

---

## 配置示例

### 示例1：只配置价格

```
PAYMENT_PRICE = 19.9
```

结果：
- 价格显示为：¥19.90
- 不显示收款账户信息

---

### 示例2：配置价格 + 支付宝

```
PAYMENT_PRICE = 15.0
ALIPAY_ACCOUNT = 13800138000
```

结果：
- 价格显示为：¥15.00
- 显示收款账户：支付宝：13800138000

---

### 示例3：完整配置

```
PAYMENT_PRICE = 29.9
ALIPAY_ACCOUNT = 13800138000
WECHAT_ACCOUNT = wxid_123456
BANK_ACCOUNT = 6222021234567890123
BANK_NAME = 中国工商银行
ACCOUNT_NAME = 张三
```

结果：
- 价格显示为：¥29.90
- 显示收款账户：
  - 支付宝：13800138000
  - 微信：wxid_123456
  - 中国工商银行：6222021234567890123
  - 户名：张三

---

## 配置说明

### 价格配置

- **变量名**：`PAYMENT_PRICE`
- **类型**：数字（支持小数）
- **单位**：元（人民币）
- **默认值**：9.9 元
- **示例**：
  - `9.9` - 9.9 元
  - `19.99` - 19.99 元
  - `50` - 50 元

### 收款账户配置

所有收款账户信息都是**可选**的，可以只配置需要的：

1. **支付宝账号**（可选）
   - 变量名：`ALIPAY_ACCOUNT`
   - 值：支付宝账号（手机号或邮箱）

2. **微信账号**（可选）
   - 变量名：`WECHAT_ACCOUNT`
   - 值：微信号或手机号

3. **银行账号**（可选）
   - `BANK_ACCOUNT` - 银行账号
   - `BANK_NAME` - 银行名称（如：中国工商银行）
   - `ACCOUNT_NAME` - 账户名称（持卡人姓名）

---

## 前端显示效果

配置完成后，用户在支付页面会看到：

```
💳 支付信息
支付金额：¥29.90

支付方式：
○ 模拟支付（测试）

收款账户信息：
支付宝：13800138000
微信：wxid_123456
中国工商银行：6222021234567890123
户名：张三

[立即支付] 按钮
```

---

## 注意事项

1. **隐私安全**
   - 收款账户信息会显示在前端页面
   - 建议使用专门的收款账号，不要使用个人主账号

2. **价格修改**
   - 修改价格后需要重新部署才能生效
   - Vercel 会自动检测环境变量变化并重新部署

3. **格式要求**
   - 价格必须是数字，支持小数
   - 账号信息可以是任意文本

4. **测试**
   - 配置完成后，上传一个文档测试
   - 检查价格和收款账户信息是否正确显示

---

## 快速配置步骤

1. ✅ 登录 Vercel Dashboard
2. ✅ 进入项目 Settings → Environment Variables
3. ✅ 添加 `PAYMENT_PRICE` = 你的价格
4. ✅ 添加收款账户信息（可选）
5. ✅ 选择环境（建议全选）
6. ✅ 保存
7. ✅ 等待自动重新部署
8. ✅ 测试支付页面

---

## 需要帮助？

如果配置后没有生效：
1. 检查环境变量是否正确添加
2. 确认选择了正确的环境（Production/Preview/Development）
3. 等待 Vercel 重新部署完成
4. 清除浏览器缓存后重试

