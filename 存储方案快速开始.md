# 存储方案快速开始指南

由于无法使用 Cloudflare R2，我们提供了多个替代方案。

---

## 🎯 推荐方案：Supabase Storage

**最简单、最推荐！**

### 为什么选择 Supabase？

- ✅ **免费额度充足**：1 GB 存储，2 GB 流量/月
- ✅ **国内可访问**（相对稳定）
- ✅ **简单易用**，5 分钟完成配置
- ✅ **不需要信用卡**
- ✅ **与 Vercel 集成良好**

### 快速开始（3 步）

#### 步骤 1：注册 Supabase（2 分钟）

1. 访问：https://supabase.com
2. 使用 GitHub 登录（推荐）
3. 创建新项目：
   - Name: `word-formatter`
   - 设置数据库密码（保存好）
   - Region: 选择 `Southeast Asia (Singapore)`

#### 步骤 2：创建 Storage Bucket（1 分钟）

1. 左侧菜单 → **Storage**
2. 点击 **"Create a new bucket"**
3. Name: `word-formatter-storage`
4. **取消勾选** "Public bucket"（私有存储）
5. 点击 **"Create bucket"**

#### 步骤 3：配置 Vercel 环境变量（2 分钟）

1. 在 Supabase Dashboard → Settings → API
2. 复制：
   - **Project URL**（如 `https://xxxxxxxxxxxxx.supabase.co`）
   - **`service_role` `secret` key**（点击 Reveal 显示）

3. 在 Vercel Dashboard → Settings → Environment Variables 添加：

```
SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
SUPABASE_KEY=你的service_role key
SUPABASE_BUCKET=word-formatter-storage
```

4. 选择 **All Environments**，保存

5. 重新部署项目

**完成！** 代码会自动使用 Supabase Storage。

---

## 📚 详细配置指南

- **Supabase Storage**：查看 `Supabase存储配置步骤.md`
- **Backblaze B2**：查看 `存储方案替代方案.md`
- **其他方案**：查看 `存储方案替代方案.md`

---

## 🔄 如何切换存储后端？

代码会自动按优先级选择可用的存储：

1. **Supabase Storage**（如果配置了 `SUPABASE_URL` 和 `SUPABASE_KEY`）
2. **Backblaze B2**（如果配置了 `B2_ACCOUNT_ID` 和 `B2_APPLICATION_KEY`）
3. **Cloudflare R2**（如果配置了 `R2_ACCOUNT_ID` 和 `R2_ACCESS_KEY_ID`）

**只需配置一个存储后端即可！**

---

## ❓ 常见问题

### Q: 我应该选择哪个存储？

**A**: 
- **最简单** → Supabase Storage（推荐）
- **最大免费额度** → Backblaze B2
- **国内访问最快** → 七牛云（需要实名）

### Q: 可以同时配置多个存储吗？

**A**: 可以，但代码只会使用第一个可用的存储（按优先级）。

### Q: 如何知道当前使用的是哪个存储？

**A**: 查看 Vercel 日志，会显示：
```
[Storage] Using Supabase Storage
```
或
```
[Storage] Using Backblaze B2 Storage
```

---

## 🆘 需要帮助？

如果遇到问题：
1. 查看对应的详细配置指南
2. 检查 Vercel 日志中的错误信息
3. 告诉我具体的错误，我会帮你解决

