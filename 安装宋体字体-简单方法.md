# 安装宋体字体 - 简单方法

## 方法1：从 Windows 系统复制（推荐）

如果你有 Windows 系统，可以从 Windows 复制宋体字体：

### 在 Windows 上：
1. 打开 `C:\Windows\Fonts\` 目录
2. 找到 `simsun.ttc` 或 `simsun.ttf` 文件
3. 复制到本地

### 在服务器上：
```bash
# 1. 创建字体目录
sudo mkdir -p /usr/share/fonts/chinese

# 2. 使用 scp 从本地上传（在本地执行）
# scp simsun.ttc admin@你的服务器IP:/tmp/

# 3. 在服务器上安装
sudo cp /tmp/simsun.ttc /usr/share/fonts/chinese/
sudo chmod 644 /usr/share/fonts/chinese/simsun.ttc
sudo fc-cache -fv

# 4. 验证
fc-list :lang=zh | grep -i simsun
```

## 方法2：使用已有的文泉驿字体（如果已安装）

如果已经安装了文泉驿字体（wqy-microhei.ttc），系统会自动使用它。宋体字体是可选的，主要用于更好的显示效果。

## 方法3：下载开源宋体字体

```bash
# 创建字体目录
sudo mkdir -p /usr/share/fonts/chinese

# 下载思源宋体（开源字体，类似宋体）
cd /tmp
sudo curl -L -o /usr/share/fonts/chinese/SourceHanSerifSC-Regular.otf \
  "https://github.com/adobe-fonts/source-han-serif/raw/release/OTF/SimplifiedChinese/SourceHanSerifSC-Regular.otf"

# 如果下载失败，可以尝试其他镜像
# 或者使用文泉驿字体（已安装）

# 更新字体缓存
sudo fc-cache -fv

# 验证
fc-list :lang=zh
```

## 验证字体安装

```bash
# 查看所有中文字体
fc-list :lang=zh

# 应该能看到类似：
# /usr/share/fonts/chinese/wqy-microhei.ttc: WenQuanYi Micro Hei:style=Regular
# 或者
# /usr/share/fonts/chinese/simsun.ttc: SimSun:style=Regular
```

## 重启服务

```bash
sudo systemctl restart geshixiugai
```

## 注意

- 如果已经安装了文泉驿字体（wqy-microhei.ttc），PDF 应该已经可以显示中文了
- 宋体字体是可选的，主要用于更好的显示效果
- 如果 PDF 中仍然看不到中文，请检查日志中的中文字符诊断信息


