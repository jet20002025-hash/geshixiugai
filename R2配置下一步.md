# R2 é…ç½®ä¸‹ä¸€æ­¥

## âœ… å·²å®Œæˆ

- âœ… å­˜å‚¨æ¡¶ `word-formatter-storage` å·²åˆ›å»º

---

## ğŸ“‹ ä¸‹ä¸€æ­¥ï¼šåˆ›å»º API Token

### æ­¥éª¤ 1ï¼šè¿›å…¥ API Tokens é¡µé¢

**æ–¹æ³• 1ï¼šä» R2 é¡µé¢è¿›å…¥**
1. åœ¨ R2 Dashboard é¡µé¢ï¼ˆå·¦ä¾§èœå•ç‚¹å‡» "R2 å¯¹è±¡å­˜å‚¨" â†’ "æ¦‚è¿°"ï¼‰
2. æŸ¥çœ‹å³ä¾§è¾¹æ çš„ "Account Details" éƒ¨åˆ†
3. æ‰¾åˆ° "API Tokens"
4. ç‚¹å‡»å³ä¾§çš„ "{} Manage" æŒ‰é’®

**æ–¹æ³• 2ï¼šç›´æ¥è®¿é—®ï¼ˆæœ€å¿«ï¼‰**
- ç›´æ¥è®¿é—®ï¼šhttps://dash.cloudflare.com/profile/api-tokens
- æˆ–ç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ "My Profile" â†’ "API Tokens"

### æ­¥éª¤ 2ï¼šåˆ›å»º API Token

1. **ç‚¹å‡» "Create API Token" æŒ‰é’®**

2. **é€‰æ‹© "Custom token"**

3. **å¡«å†™ä¿¡æ¯**ï¼š
   - **Token name**ï¼š`word-formatter-r2-token`
   - **Permissions**ï¼š
     - ç‚¹å‡» "Add"
     - é€‰æ‹© **Account** â†’ **Cloudflare R2** â†’ **Edit**
   - **Account Resources**ï¼š
     - é€‰æ‹© **"Include"**
     - é€‰æ‹©ä½ çš„è´¦å·
   - **Zone Resources**ï¼š
     - é€‰æ‹© **"None"**

4. **ç‚¹å‡» "Continue to summary"**

5. **æ£€æŸ¥é…ç½®ï¼Œç‚¹å‡» "Create Token"**

6. **ç«‹å³å¤åˆ¶ä¿å­˜**ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼‰ï¼š
   - **Access Key ID**ï¼šç±»ä¼¼ `a1b2c3d4e5f6g7h8i9j0`
   - **Secret Access Key**ï¼šç±»ä¼¼ `AbCdEfGhIjKlMnOpQrStUvWxYz1234567890`

---

## ğŸ“‹ å†ä¸‹ä¸€æ­¥ï¼šé…ç½® Vercel ç¯å¢ƒå˜é‡

åˆ›å»ºå¥½ API Token åï¼Œéœ€è¦åœ¨ Vercel é…ç½®ç¯å¢ƒå˜é‡ï¼š

### æ­¥éª¤ 1ï¼šç™»å½• Vercel

1. è®¿é—®ï¼šhttps://vercel.com/dashboard
2. é€‰æ‹©ä½ çš„é¡¹ç›®ï¼š`geshixiugai`

### æ­¥éª¤ 2ï¼šè¿›å…¥ç¯å¢ƒå˜é‡è®¾ç½®

1. ç‚¹å‡» **Settings**
2. ç‚¹å‡» **Environment Variables**

### æ­¥éª¤ 3ï¼šæ·»åŠ ç¯å¢ƒå˜é‡

ä¾æ¬¡æ·»åŠ ä»¥ä¸‹ 4 ä¸ªç¯å¢ƒå˜é‡ï¼š

#### å˜é‡ 1ï¼šR2_ACCOUNT_ID
- **Key**ï¼š`R2_ACCOUNT_ID`
- **Value**ï¼šä½ çš„ Account ID
  - åœ¨ R2 Dashboard å³ä¾§ "Account Details" ä¸­å¯ä»¥æ‰¾åˆ°
  - æ ¼å¼ç±»ä¼¼ï¼š`5003936d05d7bc23217a0fdef979a238`
  - ç‚¹å‡»å¤åˆ¶å›¾æ ‡å¤åˆ¶
- **Environment**ï¼šé€‰æ‹© **All Environments**
- ç‚¹å‡» **"Save"**

#### å˜é‡ 2ï¼šR2_ACCESS_KEY_ID
- **Key**ï¼š`R2_ACCESS_KEY_ID`
- **Value**ï¼šä½ çš„ Access Key IDï¼ˆä» API Token åˆ›å»ºé¡µé¢å¤åˆ¶ï¼‰
- **Environment**ï¼šé€‰æ‹© **All Environments**
- ç‚¹å‡» **"Save"**

#### å˜é‡ 3ï¼šR2_SECRET_ACCESS_KEY
- **Key**ï¼š`R2_SECRET_ACCESS_KEY`
- **Value**ï¼šä½ çš„ Secret Access Keyï¼ˆä» API Token åˆ›å»ºé¡µé¢å¤åˆ¶ï¼‰
- **Environment**ï¼šé€‰æ‹© **All Environments**
- ç‚¹å‡» **"Save"**

#### å˜é‡ 4ï¼šR2_BUCKET_NAME
- **Key**ï¼š`R2_BUCKET_NAME`
- **Value**ï¼š`word-formatter-storage`
- **Environment**ï¼šé€‰æ‹© **All Environments**
- ç‚¹å‡» **"Save"**

---

## ğŸ“‹ æœ€åä¸€æ­¥ï¼šé‡æ–°éƒ¨ç½²

1. **åœ¨ Vercel Dashboard â†’ Deployments**
2. **ç‚¹å‡»æœ€æ–°çš„éƒ¨ç½²å³ä¾§çš„ "..." â†’ "Redeploy"**
3. **ç­‰å¾…éƒ¨ç½²å®Œæˆ**ï¼ˆçº¦ 1-2 åˆ†é’Ÿï¼‰

---

## âœ… éªŒè¯é…ç½®

éƒ¨ç½²å®Œæˆåï¼š

1. **æŸ¥çœ‹ Vercel æ—¥å¿—**ï¼š
   - Deployments â†’ é€‰æ‹©æœ€æ–°éƒ¨ç½² â†’ Functions â†’ Logs
   - åº”è¯¥çœ‹åˆ°ï¼š`[Storage] Using Cloudflare R2 Storage`

2. **æµ‹è¯•ä¸Šä¼ æ–‡æ¡£**ï¼š
   - è®¿é—®ä½ çš„ç½‘ç«™
   - ä¸Šä¼ ä¸€ä¸ªæ–‡æ¡£
   - åº”è¯¥å¯ä»¥æ­£å¸¸å¤„ç†ï¼Œä¸å†å‡ºç°"æ–‡æ¡£ä¸å­˜åœ¨"é”™è¯¯

3. **æ£€æŸ¥ R2 å­˜å‚¨æ¡¶**ï¼š
   - åœ¨ R2 Dashboard â†’ `word-formatter-storage`
   - åº”è¯¥èƒ½çœ‹åˆ°ä¸Šä¼ çš„æ–‡ä»¶

---

## ğŸ“‹ å½“å‰è¿›åº¦

- âœ… å­˜å‚¨æ¡¶å·²åˆ›å»ºï¼ˆ`word-formatter-storage`ï¼‰
- âŒ API Token å¾…åˆ›å»º
- âŒ Vercel ç¯å¢ƒå˜é‡å¾…é…ç½®
- âŒ å¾…é‡æ–°éƒ¨ç½²

**å®Œæˆåº¦ï¼šçº¦ 25%**

---

## ğŸ¯ ç«‹å³æ“ä½œ

**ç°åœ¨è¯·**ï¼š
1. åˆ›å»º API Tokenï¼ˆå‚è€ƒä¸Šé¢çš„æ­¥éª¤ 2ï¼‰
2. ä¿å­˜ Access Key ID å’Œ Secret Access Key
3. é…ç½® Vercel ç¯å¢ƒå˜é‡ï¼ˆå‚è€ƒä¸Šé¢çš„æ­¥éª¤ 3ï¼‰
4. é‡æ–°éƒ¨ç½²

**å®Œæˆåå‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šå¸®ä½ éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®ï¼**

