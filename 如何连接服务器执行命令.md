# 如何连接服务器并执行命令

## 🖥️ 服务器信息

- **服务器 IP**：121.199.49.1
- **用户名**：root
- **连接方式**：SSH

---

## 📱 方法 1：使用终端/命令行（Mac/Linux/Windows）

### Mac 或 Linux 系统

1. **打开终端（Terminal）**
   - Mac：按 `Command + 空格`，输入"终端"，回车
   - Linux：按 `Ctrl + Alt + T`

2. **连接到服务器**
   ```bash
   ssh root@121.199.49.1
   ```

3. **输入密码**
   - 输入你设置的 root 密码（输入时不会显示，这是正常的）
   - 按回车确认

4. **连接成功后**
   - 你会看到类似 `root@iZxxxxx:~#` 的提示符
   - 现在就可以执行命令了

### Windows 系统

#### 方式 A：使用 PowerShell（Windows 10/11）

1. **打开 PowerShell**
   - 按 `Win + X`，选择"Windows PowerShell"或"终端"
   - 或者按 `Win + R`，输入 `powershell`，回车

2. **连接到服务器**
   ```powershell
   ssh root@121.199.49.1
   ```

3. **如果是第一次连接**
   - 会提示确认，输入 `yes` 回车
   - 然后输入 root 密码

#### 方式 B：使用 PuTTY（传统方式）

1. **下载 PuTTY**
   - 访问：https://www.putty.org/
   - 下载并安装

2. **配置连接**
   - Host Name: `121.199.49.1`
   - Port: `22`
   - Connection type: `SSH`
   - 点击 "Open"

3. **登录**
   - 输入用户名：`root`
   - 输入密码（输入时不会显示）

---

## 📱 方法 2：使用 VS Code（推荐，适合代码编辑）

### 步骤

1. **安装 Remote-SSH 扩展**
   - 打开 VS Code
   - 点击左侧扩展图标
   - 搜索 "Remote - SSH"
   - 点击安装

2. **连接到服务器**
   - 按 `F1` 或 `Command/Ctrl + Shift + P`
   - 输入 "Remote-SSH: Connect to Host"
   - 选择 "Add New SSH Host"
   - 输入：`ssh root@121.199.49.1`
   - 选择配置文件位置（默认即可）

3. **在服务器上操作**
   - 连接成功后，VS Code 会打开服务器上的文件系统
   - 可以像本地一样编辑文件
   - 点击底部终端图标，打开服务器终端

---

## 📱 方法 3：使用 Cursor（如果你在用 Cursor）

### 步骤

1. **安装 Remote-SSH 扩展**（同 VS Code）
   - 打开 Cursor
   - 点击左侧扩展图标
   - 搜索 "Remote - SSH"
   - 点击安装

2. **连接到服务器**（同 VS Code）
   - 按 `F1` 或 `Command/Ctrl + Shift + P`
   - 输入 "Remote-SSH: Connect to Host"
   - 输入：`root@121.199.49.1`

---

## 🚀 连接成功后执行部署命令

连接成功后，你会看到类似这样的提示符：
```
root@iZxxxxx:~#
```

然后执行以下命令：

```bash
# 1. 创建项目目录并克隆代码
mkdir -p /var/www && cd /var/www
git clone https://github.com/jet20002025-hash/geshixiugai.git geshixiugai
cd geshixiugai

# 2. 运行部署脚本
chmod +x deploy_aliyun.sh
sudo ./deploy_aliyun.sh
```

---

## 🔐 常见问题

### 问题 1：连接被拒绝（Connection refused）

**可能原因**：
- 服务器未启动
- SSH 服务未运行
- 安全组未开放 22 端口

**解决方法**：
1. 检查阿里云控制台 → 安全组 → 确保开放了 22 端口
2. 检查服务器是否正常运行

### 问题 2：密码输入后无反应

**这是正常的**：
- SSH 输入密码时不会显示任何字符（包括 `*`）
- 直接输入密码，然后按回车即可

### 问题 3：提示 "Host key verification failed"

**解决方法**：
```bash
# 清除旧的密钥
ssh-keygen -R 121.199.49.1

# 重新连接
ssh root@121.199.49.1
```

### 问题 4：Windows 提示 "ssh 不是内部或外部命令"

**解决方法**：
- Windows 10 1809 及以上版本自带 SSH
- 如果提示找不到，可以：
  1. 更新 Windows 到最新版本
  2. 或使用 PuTTY（见方法 2）

---

## 📋 完整操作流程示例

### 在 Mac 上操作

```bash
# 1. 打开终端
# （按 Command + 空格，输入"终端"）

# 2. 连接到服务器
ssh root@121.199.49.1

# 3. 输入密码（不会显示，直接输入后回车）

# 4. 连接成功后，执行部署命令
mkdir -p /var/www && cd /var/www
git clone https://github.com/jet20002025-hash/geshixiugai.git geshixiugai
cd geshixiugai
chmod +x deploy_aliyun.sh
sudo ./deploy_aliyun.sh
```

### 在 Windows 上操作

```powershell
# 1. 打开 PowerShell
# （按 Win + X，选择"Windows PowerShell"）

# 2. 连接到服务器
ssh root@121.199.49.1

# 3. 输入密码（不会显示，直接输入后回车）

# 4. 连接成功后，执行部署命令
mkdir -p /var/www && cd /var/www
git clone https://github.com/jet20002025-hash/geshixiugai.git geshixiugai
cd geshixiugai
chmod +x deploy_aliyun.sh
sudo ./deploy_aliyun.sh
```

---

## 💡 小贴士

1. **保存连接信息**（可选）：
   创建 `~/.ssh/config` 文件（Mac/Linux）：
   ```
   Host geshixiugai
       HostName 121.199.49.1
       User root
   ```
   之后可以直接用 `ssh geshixiugai` 连接

2. **使用密钥登录**（更安全，可选）：
   ```bash
   # 生成密钥对
   ssh-keygen -t rsa -b 4096
   
   # 复制公钥到服务器
   ssh-copy-id root@121.199.49.1
   ```

3. **断开连接**：
   - 输入 `exit` 或按 `Ctrl + D`

---

## 📞 需要帮助？

如果遇到问题：
1. 检查网络连接：`ping 121.199.49.1`
2. 检查 SSH 端口：`telnet 121.199.49.1 22`（或使用在线工具）
3. 查看阿里云控制台 → 安全组配置
4. 联系阿里云技术支持

---

**连接成功后，就可以开始部署了！** 🚀





