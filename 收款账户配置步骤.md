# 收款账户配置步骤

## 在 Vercel 中配置收款账户

### 第一步：登录 Vercel Dashboard

1. 访问：https://vercel.com/dashboard
2. 进入项目 `geshixiugai-app`

### 第二步：进入环境变量设置

1. 点击左侧 **Settings**
2. 点击 **Environment Variables**
3. 点击右上角 **Add New**

### 第三步：添加收款账户信息

#### 配置支付宝账号

1. 点击 **Add New**
2. 填写：
   ```
   Key: ALIPAY_ACCOUNT
   Value: 你的支付宝账号（手机号或邮箱）
   ```
3. 选择环境：✅ Production、✅ Preview、✅ Development（建议全选）
4. 点击 **Save**

#### 配置微信账号

1. 点击 **Add New**
2. 填写：
   ```
   Key: WECHAT_ACCOUNT
   Value: 你的微信账号（微信号或手机号）
   ```
3. 选择环境：✅ Production、✅ Preview、✅ Development
4. 点击 **Save**

#### 配置银行账号（可选）

如果需要显示银行账号，添加以下变量：

**银行账号：**
```
Key: BANK_ACCOUNT
Value: 你的银行账号
```

**银行名称：**
```
Key: BANK_NAME
Value: 银行名称（如：中国工商银行）
```

**账户名称（持卡人姓名）：**
```
Key: ACCOUNT_NAME
Value: 账户名称
```

### 第四步：配置价格（可选）

如果需要修改价格，添加：
```
Key: PAYMENT_PRICE
Value: 你的价格（如：19.9）
```

### 第五步：保存并等待部署

1. 所有环境变量添加完成后
2. Vercel 会自动检测变化并重新部署
3. 等待 1-2 分钟部署完成

---

## 配置示例

### 示例1：只配置支付宝

```
ALIPAY_ACCOUNT = 13800138000
```

**效果：**
- 支付页面显示：支付宝：13800138000

---

### 示例2：配置支付宝 + 微信

```
ALIPAY_ACCOUNT = 13800138000
WECHAT_ACCOUNT = wxid_123456
```

**效果：**
- 支付页面显示：
  - 支付宝：13800138000
  - 微信：wxid_123456

---

### 示例3：完整配置

```
PAYMENT_PRICE = 29.9
ALIPAY_ACCOUNT = 13800138000
WECHAT_ACCOUNT = wxid_123456
BANK_ACCOUNT = 6222021234567890123
BANK_NAME = 中国工商银行
ACCOUNT_NAME = 张三
```

**效果：**
- 价格：¥29.90
- 收款账户：
  - 支付宝：13800138000
  - 微信：wxid_123456
  - 中国工商银行：6222021234567890123
  - 户名：张三

---

## 配置后的效果

配置完成后，用户在支付页面会看到：

```
💳 支付信息
支付金额：¥29.90

支付方式：
○ 模拟支付（测试）

收款账户信息：
支付宝：13800138000
微信：wxid_123456
中国工商银行：6222021234567890123
户名：张三

[立即支付] 按钮
```

---

## 注意事项

1. **隐私安全**
   - 收款账户信息会显示在前端页面
   - 建议使用专门的收款账号，不要使用个人主账号

2. **格式要求**
   - 账号信息可以是任意文本
   - 建议使用清晰的格式，方便用户识别

3. **生效时间**
   - 配置后需要等待 Vercel 重新部署（1-2 分钟）
   - 部署完成后立即生效

4. **测试**
   - 配置完成后，上传一个新文档测试
   - 检查收款账户信息是否正确显示

---

## 快速配置清单

- [ ] 登录 Vercel Dashboard
- [ ] 进入 Settings → Environment Variables
- [ ] 添加 ALIPAY_ACCOUNT（支付宝账号）
- [ ] 添加 WECHAT_ACCOUNT（微信账号，可选）
- [ ] 添加 BANK_ACCOUNT（银行账号，可选）
- [ ] 添加 BANK_NAME（银行名称，可选）
- [ ] 添加 ACCOUNT_NAME（账户名称，可选）
- [ ] 添加 PAYMENT_PRICE（价格，可选）
- [ ] 选择环境（建议全选）
- [ ] 保存
- [ ] 等待重新部署
- [ ] 测试支付页面

---

## 关于真实支付

### 当前状态
- ✅ 模拟支付：已实现（用于测试）
- ❌ 真实支付：未集成

### 如果需要真实支付

需要集成支付网关：

1. **支付宝**
   - 需要：支付宝开放平台账号
   - 配置：ALIPAY_APP_ID、ALIPAY_PRIVATE_KEY 等
   - 实现：支付宝支付接口

2. **微信支付**
   - 需要：微信支付商户号
   - 配置：WECHAT_APP_ID、WECHAT_MCH_ID 等
   - 实现：微信支付接口

3. **Stripe（国际支付）**
   - 需要：Stripe 账号
   - 配置：STRIPE_SECRET_KEY、STRIPE_PUBLISHABLE_KEY
   - 实现：Stripe 支付接口

### 当前建议

对于 MVP 版本：
- 使用模拟支付进行测试
- 配置收款账户信息，用户手动转账
- 收到转账后，手动在系统中标记为已支付

后续可以集成真实支付网关。

