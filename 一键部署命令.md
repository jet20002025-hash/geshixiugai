# ä¸€é”®éƒ¨ç½²å‘½ä»¤ - geshixiugai.cn

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆå¤åˆ¶ç²˜è´´å³å¯ï¼‰

### æ­¥éª¤ 1ï¼šè¿æ¥åˆ°æœåŠ¡å™¨

```bash
ssh root@ä½ çš„æœåŠ¡å™¨å…¬ç½‘IP
```

### æ­¥éª¤ 2ï¼šæ‰§è¡Œéƒ¨ç½²å‘½ä»¤

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir -p /var/www && cd /var/www

# å…‹éš†ä»£ç 
git clone https://github.com/jet20002025-hash/geshixiugai.git geshixiugai

# è¿›å…¥é¡¹ç›®ç›®å½•
cd geshixiugai

# ç»™éƒ¨ç½²è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x deploy_aliyun.sh

# è¿è¡Œéƒ¨ç½²è„šæœ¬
sudo ./deploy_aliyun.sh
```

### æ­¥éª¤ 3ï¼šé…ç½®ç¯å¢ƒå˜é‡

éƒ¨ç½²è„šæœ¬è¿è¡Œå®Œæˆåï¼Œä¼šæç¤ºä½ é…ç½® `.env` æ–‡ä»¶ï¼š

```bash
cd /var/www/geshixiugai

# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡ï¼ˆå¡«å…¥ä½ çš„é…ç½®ï¼‰
nano .env
```

åœ¨ `.env` æ–‡ä»¶ä¸­å¡«å…¥ä½ çš„é…ç½®ä¿¡æ¯ï¼ˆå­˜å‚¨ã€æ”¯ä»˜ç­‰ï¼‰ï¼Œä¿å­˜é€€å‡ºã€‚

### æ­¥éª¤ 4ï¼šé‡å¯æœåŠ¡

```bash
# é‡å¯æœåŠ¡ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ
sudo systemctl restart geshixiugai

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status geshixiugai
```

### æ­¥éª¤ 5ï¼šé…ç½®åŸŸåè§£æ

1. ç™»å½•é˜¿é‡Œäº‘ DNS æ§åˆ¶å°ï¼šhttps://dns.console.aliyun.com/
2. æ‰¾åˆ°åŸŸå `geshixiugai.cn`
3. æ·»åŠ  A è®°å½•ï¼š
   - **ä¸»æœºè®°å½•**ï¼š@ï¼Œ**è®°å½•å€¼**ï¼šä½ çš„æœåŠ¡å™¨å…¬ç½‘ IP
   - **ä¸»æœºè®°å½•**ï¼šwwwï¼Œ**è®°å½•å€¼**ï¼šä½ çš„æœåŠ¡å™¨å…¬ç½‘ IP

### æ­¥éª¤ 6ï¼šé…ç½® SSL è¯ä¹¦

```bash
# å®‰è£… Certbot
sudo apt install -y certbot python3-certbot-nginx

# ç”³è¯·è¯ä¹¦ï¼ˆä¼šè‡ªåŠ¨é…ç½® Nginxï¼‰
sudo certbot --nginx -d geshixiugai.cn -d www.geshixiugai.cn
```

### æ­¥éª¤ 7ï¼šæµ‹è¯•è®¿é—®

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
- `https://geshixiugai.cn`
- `https://geshixiugai.cn/web`
- `https://geshixiugai.cn/docs`

---

## ğŸ“‹ å®Œæ•´å‘½ä»¤ï¼ˆä¸€æ¬¡æ€§å¤åˆ¶ï¼‰

```bash
# 1. å…‹éš†ä»£ç 
mkdir -p /var/www && cd /var/www
git clone https://github.com/jet20002025-hash/geshixiugai.git geshixiugai
cd geshixiugai

# 2. è¿è¡Œéƒ¨ç½²è„šæœ¬
chmod +x deploy_aliyun.sh
sudo ./deploy_aliyun.sh

# 3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆè„šæœ¬è¿è¡Œå®Œæˆåï¼‰
cp env.example .env
nano .env  # å¡«å…¥ä½ çš„é…ç½®ï¼Œä¿å­˜é€€å‡º

# 4. é‡å¯æœåŠ¡
sudo systemctl restart geshixiugai
sudo systemctl status geshixiugai

# 5. é…ç½® SSLï¼ˆåŸŸåè§£æå®Œæˆåï¼‰
sudo apt install -y certbot python3-certbot-nginx
sudo certbot --nginx -d geshixiugai.cn -d www.geshixiugai.cn
```

---

## ğŸ” éªŒè¯éƒ¨ç½²

### æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ
sudo systemctl status geshixiugai

# æ£€æŸ¥ç«¯å£æ˜¯å¦ç›‘å¬
sudo netstat -tlnp | grep 8000

# æµ‹è¯•æœ¬åœ°è®¿é—®
curl http://localhost:8000
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
sudo journalctl -u geshixiugai -f

# æŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/geshixiugai_error.log
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒå˜é‡é…ç½®**ï¼šç¡®ä¿ `.env` æ–‡ä»¶ä¸­é…ç½®äº†æ­£ç¡®çš„å­˜å‚¨ä¿¡æ¯ï¼ˆSupabase/R2/B2ï¼‰
2. **åŸŸåè§£æ**ï¼šé…ç½® DNS åéœ€è¦ç­‰å¾…å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ç”Ÿæ•ˆ
3. **SSL è¯ä¹¦**ï¼šCertbot ä¼šè‡ªåŠ¨é…ç½®ï¼Œè¯ä¹¦æ¯ 90 å¤©è‡ªåŠ¨ç»­æœŸ
4. **å¤‡æ¡ˆå·**ï¼šè®°å¾—åœ¨ç½‘ç«™åº•éƒ¨æ·»åŠ å¤‡æ¡ˆå·æ˜¾ç¤º

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

- æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š`é˜¿é‡Œäº‘å¿«é€Ÿéƒ¨ç½²æŒ‡å—.md`
- æŸ¥çœ‹å®Œæ•´æŒ‡å—ï¼š`é˜¿é‡Œäº‘è¿ç§»å®Œæ•´æŒ‡å—.md`
- æŸ¥çœ‹å‡†å¤‡æ¸…å•ï¼š`éƒ¨ç½²å‡†å¤‡æ¸…å•.md`

---

**éƒ¨ç½²å®Œæˆåï¼Œä½ çš„ç½‘ç«™å°†åœ¨ `https://geshixiugai.cn` æ­£å¸¸è¿è¡Œï¼** ğŸ‰

