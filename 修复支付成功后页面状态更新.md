# ä¿®å¤æ”¯ä»˜æˆåŠŸåé¡µé¢çŠ¶æ€æ›´æ–°

## ğŸ” é—®é¢˜

æ”¯ä»˜æˆåŠŸåï¼Œé¡µé¢æ˜¾ç¤º"æ”¯ä»˜æˆåŠŸï¼å¯ä»¥ä¸‹è½½æ­£å¼ç‰ˆæ–‡æ¡£äº†ã€‚"ï¼Œä½†æ˜¯ï¼š
- âŒ æ”¯ä»˜ä¿¡æ¯åŒºåŸŸè¿˜åœ¨æ˜¾ç¤º
- âŒ æ”¯ä»˜æŒ‰é’®è¿˜åœ¨æ˜¾ç¤º
- âŒ ä¸‹è½½æŒ‰é’®æ²¡æœ‰æ˜¾ç¤º

---

## âœ… å·²ä¿®å¤

### 1. ä¼˜åŒ–æ”¯ä»˜ä¿¡æ¯åŠ è½½é€»è¾‘
- âœ… å·²æ”¯ä»˜æ—¶ä¸å†è°ƒç”¨ `loadPaymentInfo()`
- âœ… å¼ºåˆ¶éšè—æ”¯ä»˜ä¿¡æ¯å’Œæ”¯ä»˜æŒ‰é’®
- âœ… ç¡®ä¿å·²æ”¯ä»˜æç¤ºæ˜¾ç¤º

### 2. å¢å¼ºåŒé‡æ£€æŸ¥æœºåˆ¶
- âœ… æ”¯ä»˜æˆåŠŸåå»¶è¿Ÿ1ç§’å†æ¬¡æ£€æŸ¥
- âœ… ä½¿ç”¨ `!important` å¼ºåˆ¶éšè—æ”¯ä»˜å…ƒç´ 
- âœ… ç¡®ä¿ä¸‹è½½æŒ‰é’®æ­£ç¡®æ·»åŠ 

### 3. æ·»åŠ è¯¦ç»†æ—¥å¿—
- âœ… æ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ—¥å¿—è¾“å‡º
- âœ… æ–¹ä¾¿æ’æŸ¥é—®é¢˜

---

## ğŸš€ æ›´æ–°æ­¥éª¤

### æ­¥éª¤ 1ï¼šæäº¤ä»£ç åˆ° GitHubï¼ˆåœ¨ä½ çš„ç”µè„‘ä¸Šï¼‰

```bash
cd /Users/zwj/wordæ ¼å¼ä¿®æ”¹å™¨
git add frontend/index.html
git commit -m "ä¿®å¤ï¼šæ”¯ä»˜æˆåŠŸåå¼ºåˆ¶éšè—æ”¯ä»˜ä¿¡æ¯ï¼Œç¡®ä¿ä¸‹è½½æŒ‰é’®æ˜¾ç¤º"
git push origin main
```

### æ­¥éª¤ 2ï¼šåœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–ä»£ç 

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼ˆä½¿ç”¨é˜¿é‡Œäº‘æ§åˆ¶å°ç½‘é¡µç»ˆç«¯æˆ–SSHï¼‰
cd /var/www/geshixiugai
git pull origin main
```

### æ­¥éª¤ 3ï¼šé‡å¯æœåŠ¡

```bash
# é‡å¯æœåŠ¡
sudo systemctl restart geshixiugai

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status geshixiugai
```

---

## ğŸ” éªŒè¯

### æµ‹è¯•æ”¯ä»˜æµç¨‹

1. **ä¸Šä¼ æ–‡æ¡£**
2. **é€‰æ‹©æ”¯ä»˜å®æ”¯ä»˜**
3. **å®Œæˆæ”¯ä»˜**
4. **è·³è½¬å›ç½‘ç«™å**ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
   - âœ… "æ”¯ä»˜æˆåŠŸï¼å¯ä»¥ä¸‹è½½æ­£å¼ç‰ˆæ–‡æ¡£äº†ã€‚" æç¤º
   - âœ… **æ”¯ä»˜ä¿¡æ¯åŒºåŸŸå·²éšè—**ï¼ˆä¸å†æ˜¾ç¤ºæ”¯ä»˜é‡‘é¢å’Œæ”¯ä»˜æ–¹å¼ï¼‰
   - âœ… **æ”¯ä»˜æŒ‰é’®å·²éšè—**ï¼ˆä¸å†æ˜¾ç¤º"ç«‹å³æ”¯ä»˜"æŒ‰é’®ï¼‰
   - âœ… **"å·²æ”¯ä»˜ï¼Œå¯ä»¥ä¸‹è½½æ­£å¼ç‰ˆæ–‡æ¡£"** æç¤ºæ˜¾ç¤º
   - âœ… **"æŸ¥çœ‹æ­£å¼ç‰ˆæ–‡æ¡£"** æŒ‰é’®ï¼ˆé¢„è§ˆæŒ‰é’®å·²æ›´æ–°ï¼‰
   - âœ… **"â¬‡ï¸ ä¸‹è½½æ­£å¼ç‰ˆæ–‡æ¡£ï¼ˆå·²ä»˜è´¹ï¼‰"** æŒ‰é’®ï¼ˆç»¿è‰²å¤§æŒ‰é’®ï¼‰

### æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

æŒ‰ `F12` æ‰“å¼€æ§åˆ¶å°ï¼Œåº”è¯¥çœ‹åˆ°ï¼š

```
æ£€æµ‹åˆ°æ”¯ä»˜å®æ”¯ä»˜å›è°ƒï¼Œè®¢å•å·: xxx
å¼€å§‹åˆ·æ–°æ–‡æ¡£çŠ¶æ€ï¼ŒdocumentId: xxx
ç»“æœå¡ç‰‡å·²æ˜¾ç¤º
æ–‡æ¡£å·²æ”¯ä»˜ï¼Œå‡†å¤‡æ˜¾ç¤ºä¸‹è½½æŒ‰é’®
ä¸‹è½½æŒ‰é’®å·²æ·»åŠ 
æ–‡æ¡£å·²æ”¯ä»˜ï¼Œè·³è¿‡åŠ è½½æ”¯ä»˜ä¿¡æ¯ï¼Œç¡®ä¿æ”¯ä»˜ä¿¡æ¯éšè—
æ”¯ä»˜ä¿¡æ¯å·²éšè—
æ”¯ä»˜æŒ‰é’®å·²éšè—
å·²æ”¯ä»˜æç¤ºå·²æ˜¾ç¤º
åŒé‡æ£€æŸ¥ï¼šæ–‡æ¡£çŠ¶æ€ { paid: true, ... }
åŒé‡æ£€æŸ¥ï¼šç¡®è®¤æ–‡æ¡£å·²æ”¯ä»˜ï¼Œå¼€å§‹æ›´æ–°é¡µé¢
æ”¯ä»˜ä¿¡æ¯å·²å¼ºåˆ¶éšè—
æ”¯ä»˜æŒ‰é’®å·²å¼ºåˆ¶éšè—
å·²æ”¯ä»˜æç¤ºå·²æ˜¾ç¤º
é¢„è§ˆæŒ‰é’®å·²æ›´æ–°ä¸ºæŸ¥çœ‹æ­£å¼ç‰ˆ
ä¸‹è½½æŒ‰é’®å·²å­˜åœ¨ï¼ˆæˆ–å¼ºåˆ¶æ·»åŠ ä¸‹è½½æŒ‰é’®å®Œæˆï¼‰
```

---

## ğŸ“‹ å®Œæ•´å‘½ä»¤ï¼ˆå¤åˆ¶ç²˜è´´ï¼‰

### åœ¨ä½ çš„ç”µè„‘ä¸Š

```bash
cd /Users/zwj/wordæ ¼å¼ä¿®æ”¹å™¨
git add frontend/index.html
git commit -m "ä¿®å¤ï¼šæ”¯ä»˜æˆåŠŸåå¼ºåˆ¶éšè—æ”¯ä»˜ä¿¡æ¯ï¼Œç¡®ä¿ä¸‹è½½æŒ‰é’®æ˜¾ç¤º"
git push origin main
```

### åœ¨æœåŠ¡å™¨ä¸Š

```bash
cd /var/www/geshixiugai
git pull origin main
sudo systemctl restart geshixiugai
sudo systemctl status geshixiugai
```

---

## ğŸ› å¦‚æœè¿˜æ˜¯ä¸è¡Œ

### æ£€æŸ¥ 1ï¼šæŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°

1. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° **Console** æ ‡ç­¾
3. æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
4. æŸ¥çœ‹æ˜¯å¦æœ‰ "æ–‡æ¡£å·²æ”¯ä»˜" å’Œ "æ”¯ä»˜ä¿¡æ¯å·²éšè—" çš„æ—¥å¿—

### æ£€æŸ¥ 2ï¼šæ‰‹åŠ¨æ£€æŸ¥æ–‡æ¡£çŠ¶æ€

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰§è¡Œï¼ˆæ›¿æ¢ä¸ºä½ çš„æ–‡æ¡£IDï¼‰ï¼š

```javascript
// æ£€æŸ¥æ–‡æ¡£çŠ¶æ€
fetch('/documents/ä½ çš„æ–‡æ¡£ID')
  .then(r => r.json())
  .then(data => {
    console.log('æ–‡æ¡£çŠ¶æ€:', data);
    console.log('å·²æ”¯ä»˜:', data.paid);
    console.log('ä¸‹è½½token:', data.download_token);
  });
```

**åº”è¯¥çœ‹åˆ°**ï¼š
- `paid: true`
- `download_token: "..."`

### æ£€æŸ¥ 3ï¼šæ‰‹åŠ¨éšè—æ”¯ä»˜ä¿¡æ¯ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰

å¦‚æœæ”¯ä»˜ä¿¡æ¯è¿˜åœ¨æ˜¾ç¤ºï¼Œå¯ä»¥åœ¨æ§åˆ¶å°æ‰§è¡Œï¼š

```javascript
// æ‰‹åŠ¨éšè—æ”¯ä»˜ä¿¡æ¯
const paymentInfo = document.getElementById('paymentInfo');
const payButton = document.getElementById('payButton');
const paidNotice = document.getElementById('paidNotice');

if (paymentInfo) {
  paymentInfo.style.display = 'none';
  paymentInfo.style.setProperty('display', 'none', 'important');
}
if (payButton) {
  payButton.style.display = 'none';
  payButton.style.setProperty('display', 'none', 'important');
}
if (paidNotice) {
  paidNotice.style.display = 'block';
  paidNotice.style.setProperty('display', 'block', 'important');
}
```

---

## ğŸ“ ä¿®æ”¹è¯´æ˜

### ä¸»è¦ä¿®æ”¹

1. **ä¼˜åŒ–æ”¯ä»˜ä¿¡æ¯åŠ è½½é€»è¾‘**ï¼š
   - å·²æ”¯ä»˜æ—¶ä¸å†è°ƒç”¨ `loadPaymentInfo()`
   - å¼ºåˆ¶éšè—æ”¯ä»˜ä¿¡æ¯å’Œæ”¯ä»˜æŒ‰é’®

2. **å¢å¼ºåŒé‡æ£€æŸ¥æœºåˆ¶**ï¼š
   - ä½¿ç”¨ `!important` å¼ºåˆ¶éšè—æ”¯ä»˜å…ƒç´ 
   - ç¡®ä¿ä¸‹è½½æŒ‰é’®æ­£ç¡®æ·»åŠ 

3. **æ·»åŠ è¯¦ç»†æ—¥å¿—**ï¼š
   - æ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ—¥å¿—è¾“å‡º
   - æ–¹ä¾¿æ’æŸ¥é—®é¢˜

---

## âœ… æ€»ç»“

**é—®é¢˜**ï¼šæ”¯ä»˜æˆåŠŸåï¼Œæ”¯ä»˜ä¿¡æ¯è¿˜åœ¨æ˜¾ç¤ºï¼Œä¸‹è½½æŒ‰é’®æ²¡æœ‰æ˜¾ç¤º

**åŸå› **ï¼š`loadPaymentInfo()` å¯èƒ½åœ¨å·²æ”¯ä»˜æ—¶é‡æ–°æ˜¾ç¤ºäº†æ”¯ä»˜ä¿¡æ¯

**è§£å†³**ï¼š
1. å·²æ”¯ä»˜æ—¶ä¸å†è°ƒç”¨ `loadPaymentInfo()`
2. ä½¿ç”¨ `!important` å¼ºåˆ¶éšè—æ”¯ä»˜å…ƒç´ 
3. å¢å¼ºåŒé‡æ£€æŸ¥æœºåˆ¶

**ç°åœ¨æ‰§è¡Œ**ï¼šæäº¤ä»£ç ï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–å¹¶é‡å¯æœåŠ¡ï¼Œç„¶åæµ‹è¯•æ”¯ä»˜æµç¨‹ï¼ğŸš€




