# å¤§å­¦åˆ—è¡¨åŠ è½½å¤±è´¥æŽ’æŸ¥æŒ‡å—

## ðŸ” é—®é¢˜çŽ°è±¡

ä¸‹æ‹‰æ¡†æ˜¾ç¤º"åŠ è½½ä¸­..."ï¼Œå¤§å­¦åˆ—è¡¨æ— æ³•åŠ è½½ã€‚

## âœ… æŽ’æŸ¥æ­¥éª¤

### æ­¥éª¤ 1ï¼šæ£€æŸ¥åŽç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ**ï¼š

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status geshixiugai

# åº”è¯¥çœ‹åˆ°ï¼šActive: active (running)
# å¦‚æžœæ˜¾ç¤º failed æˆ– inactiveï¼Œéœ€è¦é‡å¯æœåŠ¡
```

### æ­¥éª¤ 2ï¼šæ£€æŸ¥é¢„è®¾æ¨¡æ¿æ–‡ä»¶æ˜¯å¦å­˜åœ¨

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ**ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /var/www/geshixiugai

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la backend/app/services/university_templates.json

# å¦‚æžœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦ä»ŽGitHubæ‹‰å–æˆ–æ‰‹åŠ¨åˆ›å»º
```

### æ­¥éª¤ 3ï¼šå¦‚æžœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ›´æ–°ä»£ç 

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ**ï¼š

```bash
# ç¡®ä¿åœ¨é¡¹ç›®ç›®å½•
cd /var/www/geshixiugai

# æ›´æ–°ä»£ç ï¼ˆæ‹‰å–æœ€æ–°ä»£ç ï¼ŒåŒ…å«æ¨¡æ¿æ–‡ä»¶ï¼‰
git pull origin main

# å¦‚æžœ git pull å¤±è´¥ï¼Œæ£€æŸ¥æ–‡ä»¶æ˜¯å¦åœ¨ä»£ç åº“ä¸­
git ls-files | grep university_templates.json
```

### æ­¥éª¤ 4ï¼šæ£€æŸ¥æ–‡ä»¶å†…å®¹

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ**ï¼š

```bash
# æŸ¥çœ‹æ–‡ä»¶å‰å‡ è¡Œ
head -20 backend/app/services/university_templates.json

# æ£€æŸ¥JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
python3 -m json.tool backend/app/services/university_templates.json > /dev/null
if [ $? -eq 0 ]; then
  echo "âœ… JSONæ ¼å¼æ­£ç¡®"
else
  echo "âŒ JSONæ ¼å¼é”™è¯¯"
fi
```

### æ­¥éª¤ 5ï¼šæŸ¥çœ‹æœåŠ¡æ—¥å¿—

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ**ï¼š

```bash
# æŸ¥çœ‹æœ€è¿‘çš„æ—¥å¿—
sudo journalctl -u geshixiugai -n 100 --no-pager | grep -i "template\|university"

# åº”è¯¥çœ‹åˆ°ç±»ä¼¼ï¼š
# [UniversityTemplateService] å°è¯•åŠ è½½æ¨¡æ¿æ–‡ä»¶: ...
# [UniversityTemplateService] æ–‡ä»¶æ˜¯å¦å­˜åœ¨: True
# [UniversityTemplateService] æˆåŠŸåŠ è½½æ¨¡æ¿æ–‡ä»¶ï¼ŒåŒ…å« 6 æ‰€å¤§å­¦
```

### æ­¥éª¤ 6ï¼šæµ‹è¯•APIç«¯ç‚¹

**åœ¨æµè§ˆå™¨ä¸­è®¿é—®**ï¼š

```
https://ä½ çš„åŸŸå/templates/presets
```

**æˆ–è€…ä½¿ç”¨ curl**ï¼š

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
curl http://localhost:8000/templates/presets

# åº”è¯¥è¿”å›žJSONæ ¼å¼çš„å¤§å­¦åˆ—è¡¨
```

### æ­¥éª¤ 7ï¼šæ£€æŸ¥å‰ç«¯æŽ§åˆ¶å°é”™è¯¯

**åœ¨æµè§ˆå™¨ä¸­**ï¼š

1. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° `Console` æ ‡ç­¾
3. æŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
4. åˆ‡æ¢åˆ° `Network` æ ‡ç­¾
5. åˆ·æ–°é¡µé¢ï¼ŒæŸ¥çœ‹ `/templates/presets` è¯·æ±‚çš„çŠ¶æ€

**å¸¸è§é”™è¯¯**ï¼š
- `Failed to fetch` - åŽç«¯æœåŠ¡æœªå¯åŠ¨æˆ–ç½‘ç»œé—®é¢˜
- `404 Not Found` - APIè·¯å¾„é”™è¯¯
- `500 Internal Server Error` - åŽç«¯ä»£ç é”™è¯¯

## ðŸ”§ å¿«é€Ÿä¿®å¤

### å¦‚æžœæ–‡ä»¶ä¸å­˜åœ¨

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ**ï¼š

```bash
cd /var/www/geshixiugai

# æ–¹æ³•1ï¼šä»ŽGitHubæ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æ–¹æ³•2ï¼šå¦‚æžœæ–‡ä»¶ä¸åœ¨ä»£ç åº“ï¼Œæ‰‹åŠ¨åˆ›å»º
cat > backend/app/services/university_templates.json << 'EOF'
{
  "universities": [
    {
      "id": "hdu",
      "name": "æ­å·žç”µå­ç§‘æŠ€å¤§å­¦",
      "display_name": "æ­å·žç”µå­ç§‘æŠ€å¤§å­¦",
      "description": "æ­å·žç”µå­ç§‘æŠ€å¤§å­¦æ¯•ä¸šè®ºæ–‡æ ¼å¼è§„èŒƒï¼ˆ2026å±Šï¼‰"
    }
  ]
}
EOF
```

### å¦‚æžœæœåŠ¡æœªå¯åŠ¨

**åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ**ï¼š

```bash
# é‡å¯æœåŠ¡
sudo systemctl restart geshixiugai

# æ£€æŸ¥çŠ¶æ€
sudo systemctl status geshixiugai
```

### å¦‚æžœAPIè¿”å›žç©ºåˆ—è¡¨

**æ£€æŸ¥æ—¥å¿—**ï¼š

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
sudo journalctl -u geshixiugai -n 200 --no-pager
```

## ðŸ“ éªŒè¯ä¿®å¤

ä¿®å¤åŽï¼Œåœ¨æµè§ˆå™¨ä¸­ï¼š

1. åˆ·æ–°é¡µé¢
2. æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
3. æŸ¥çœ‹ `Network` æ ‡ç­¾ä¸­çš„ `/templates/presets` è¯·æ±‚
4. åº”è¯¥è¿”å›žåŒ…å«å¤§å­¦åˆ—è¡¨çš„JSON
5. ä¸‹æ‹‰æ¡†åº”è¯¥æ˜¾ç¤ºå¤§å­¦é€‰é¡¹

## ðŸ†˜ å¦‚æžœè¿˜æ˜¯ä¸è¡Œ

1. **æ£€æŸ¥æ–‡ä»¶æƒé™**ï¼š
   ```bash
   ls -la backend/app/services/university_templates.json
   # ç¡®ä¿æ–‡ä»¶å¯è¯»
   ```

2. **æ£€æŸ¥Pythonè·¯å¾„**ï¼š
   ```bash
   # åœ¨è™šæ‹ŸçŽ¯å¢ƒä¸­æµ‹è¯•
   cd /var/www/geshixiugai
   source venv/bin/activate
   python -c "from backend.app.services.university_template_service import UniversityTemplateService; s = UniversityTemplateService(); print(s.get_all_universities())"
   ```

3. **æŸ¥çœ‹å®Œæ•´é”™è¯¯æ—¥å¿—**ï¼š
   ```bash
   sudo journalctl -u geshixiugai -n 500 --no-pager
   ```



